{"mappings":"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","sources":["src/utils/COMPONENTS.js","src/components/layout/ErrorPage/index.js","src/utils/getRenderedTemplate.js","src/utils/Templator.js","src/utils/handlerTemplateValue.js","src/utils/getValue.js","src/components/layout/Form/index.js","src/components/layout/InWork/index.js","src/components/layout/UserData/index.js","src/components/uikit/Avatar/index.js","src/components/uikit/Button/index.js","src/components/uikit/Input/index.js","src/components/uikit/Link/index.js","src/components/uikit/UserInfoItem/index.js"],"sourcesContent":["import ErrorPage from \"../components/layout/ErrorPage\";\nimport Form from \"../components/layout/Form\";\nimport InWork from \"../components/layout/InWork\";\nimport UserData from \"../components/layout/UserData\";\nimport Avatar from \"../components/uikit/Avatar\";\nimport Button from \"../components/uikit/Button\";\nimport Input from \"../components/uikit/Input\";\nimport Link from \"../components/uikit/Link\";\nimport UserInfoItem from \"../components/uikit/UserInfoItem\";\n\nconst COMPONENTS = {\n  Button: Button,\n  Input: Input,\n  ErrorPage: ErrorPage,\n  Form: Form,\n  Link: Link,\n  InWork: InWork,\n  UserInfoItem: UserInfoItem,\n  UserData: UserData,\n  Avatar: Avatar,\n};\n\nexport default COMPONENTS;\n","import \"./styles.scss\";\nimport getRenderedTemplate from \"../../../utils/getRenderedTemplate\";\n\nconst ERROR_PAGE = `<section class=\"error-page\">\n  <h1 class=\"text-xl error-page__title\">{{title}}</h1>\n  <p class=\"text-lg error-page__description\">{{description}}</p>\n  <a class=\"text-xs error-page__link link\" href=\"{{href}}\">Назад к чатам</a>\n</section>`;\n\nfunction ErrorPage(props) {\n  //   const { description, title, href } = props;\n  return getRenderedTemplate(ERROR_PAGE, props);\n}\n\nexport default ErrorPage;\n","import Templator from \"./Templator\";\n\nfunction getRenderedTemplate(template, props) {\n  const currentTemplate = new Templator(template);\n  const renderedTemplate = currentTemplate.compile(props);\n  return renderedTemplate;\n}\n\nexport default getRenderedTemplate;\n","import handlerTemplateValue from \"./handlerTemplateValue\";\n\nclass Templator {\n  TEMPLATE_REGEXP = /\\{\\{(.*?)\\}\\}/gi;\n\n  constructor(template) {\n    this._template = template;\n  }\n\n  compile(context) {\n    return this._compileTemplate(context);\n  }\n\n  _compileTemplate = (context) => {\n    let template = this._template;\n    let key = null;\n    const regExp = this.TEMPLATE_REGEXP;\n\n    const arrKeys = template.match(regExp);\n\n    for (let i = 0; i < arrKeys.length; i++) {\n      const templateValueWithPattern = arrKeys[i];\n      const templateValue = arrKeys[i].slice(2, -2).trim().split(\" \");\n      const data = handlerTemplateValue(context, templateValue);\n      template = template.replace(\n        new RegExp(templateValueWithPattern, \"gi\"),\n        data\n      );\n    }\n\n    // Важно делать exec именно через константу, иначе уйдёте в бесконечный цикл\n    // while ((key = regExp.exec(template)) !== null) {\n    //   console.log(key);\n    //   if (key[1]) {\n    //     const templateValue = key[1].trim().split(\" \");\n    //     const data = handlerTemplateValue(context, templateValue);\n    //     console.log(data);\n    //     console.log(template);\n    //     template = template.replace(new RegExp(key[0], \"gi\"), data);\n    //     console.log(template);\n    //   }\n    // }\n\n    return template;\n  };\n}\n\nexport default Templator;\n","import getValue from \"./getValue\";\n\nimport COMPONENTS from \"./COMPONENTS\";\n\nfunction _map(contexts, component) {\n  return contexts.length !== 0\n    ? contexts.map((item) => COMPONENTS[component](item)).join(\"\")\n    : \"\";\n}\n\nfunction handlerTemplateValue(context, templateValue) {\n  if (templateValue?.length === 1) {\n    // console.log(getValue(context, templateValue[0]));\n    // console.log(context, templateValue[0]);\n    return getValue(context, templateValue[0]);\n  } else {\n    switch (templateValue[0]) {\n      case \"#for\": {\n        const [_, propsKey, component] = templateValue;\n        // console.log(context[propsKey]);\n        return _map(getValue(context, propsKey), component);\n      }\n      case \">\": {\n        const [_, propsKey, component] = templateValue;\n        // console.log(context[propsKey], COMPONENTS[component]);\n        // console.log(COMPONENTS[component](context[propsKey]));\n        return COMPONENTS[component](getValue(context, propsKey));\n      }\n      case \"#if\": {\n        const [_, propsKey, ifTrue, ifFalse] = templateValue;\n        return getValue(context, propsKey)\n          ? getValue(context, propsKey, ifTrue)\n          : getValue(context, propsKey, ifFalse);\n      }\n      default:\n        return \"\";\n    }\n  }\n}\n\nexport default handlerTemplateValue;\n","function getValue(obj, path, defaultValue) {\n  const keys = path.split(\".\");\n\n  let result = obj;\n  for (let key of keys) {\n    result = result?.[key];\n\n    if (result === undefined) {\n      return defaultValue;\n    }\n  }\n\n  return result ?? defaultValue;\n}\n\nexport default getValue;\n","import \"./styles.scss\";\nimport getRenderedTemplate from \"../../../utils/getRenderedTemplate\";\n\nconst FORM = `<form class=\"wrapper form\">\n    <p class=\"form__title\">{{title}}</p>\n    <div class=\"form__inputs\">{{#for inputs Input}}</div>\n    <div class=\"form__actions\">\n      {{#for buttons Button}}\n      {{#for links Link}}\n    </div>\n  </form>\n  `;\n\nfunction Form(props) {\n  //   const { title, links, buttons, inputs } = props;\n  return getRenderedTemplate(FORM, props);\n}\n\nexport default Form;\n","import \"./styles.scss\";\nimport getRenderedTemplate from \"../../../utils/getRenderedTemplate\";\n\nconst IN_WORK = `<section class=\"in_work\">\n  <h1 class=\"text-xl in_work__title\">Страница в работе</h1>\n  <p class=\"text-lg in_work__description\">Будет доступна после следующего спринта</p>\n  <a class=\"text-xs in_work__link link\" href=\"{{href}}\">На разводную страницу</a>\n</section>`;\n\nfunction InWork(props) {\n  //   const { href } = props;\n  return getRenderedTemplate(IN_WORK, props);\n}\n\nexport default InWork;\n","import \"./styles.scss\";\nimport getRenderedTemplate from \"../../../utils/getRenderedTemplate\";\n\nconst USER_DATA = `<div class=\"wrapper user-data\">\n    {{> avatar Avatar}}\n    <div class=\"user-data__items\">{{#for userInfoItems UserInfoItem}}</div>\n    <div class=\"form__actions\">\n      {{#for links Link}}\n    </div>\n  </div>\n  `;\n\nfunction UserData(props) {\n  //   const { title, links, buttons, inputs } = props;\n  return getRenderedTemplate(USER_DATA, props);\n}\n\nexport default UserData;\n","import \"./styles.scss\";\nimport getRenderedTemplate from \"../../../utils/getRenderedTemplate\";\n\nconst AVATAR = `<div class=\"avatar-change {{#if className className }}\">\n  <img class=\"avatar-change__image\" />\n   <a class=\"avatar-change__changed link text-base\" >Поменять аватар</a>\n</div>`;\n\nfunction Avatar(props) {\n  //   const { className, name, labelText, type, errorText } = props;\n  return getRenderedTemplate(AVATAR, props);\n}\n\nexport default Avatar;\n","import \"./styles.scss\";\nimport getRenderedTemplate from \"../../../utils/getRenderedTemplate\";\n\nconst BUTTON = `<button type=\"{{type}}\" class=\"button text-base {{className}}\">\n    {{children}}\n  </button>`;\n\nfunction Button(props) {\n  // const { type, className, children } = props;\n  return getRenderedTemplate(BUTTON, props);\n}\n\nexport default Button;\n","import \"./styles.scss\";\nimport getRenderedTemplate from \"../../../utils/getRenderedTemplate\";\n\nconst INPUT = `<div \n  style=\"{{style}}\" class=\"input {{className}}\">\n  <label class=\"input__label text-base\" for=\"{{name}}\">{{labelText}}</label>\n  <input class=\"input__input {{#if errorText input__input_error }}\" id=\"{{name}}\" name=\"{{name}}\" type=\"{{type}}\" />\n  <span class=\"input__error error-text {{#if errorText input__error_visible input__error_hidden }}\">\n    {{errorText}}\n  </span>\n</div>`;\n\nfunction Input(props) {\n  //   const { style, className, name, labelText, type, errorText } = props;\n  return getRenderedTemplate(INPUT, props);\n}\n\nexport default Input;\n","import \"./styles.scss\";\nimport getRenderedTemplate from \"../../../utils/getRenderedTemplate\";\n\nconst LINK = `<a\n  href=\"{{href}}\"\n  class=\"link text-base {{className}}\">\n    {{children}}\n  </a>`;\n\nfunction Link(props) {\n  // const { href, className, children } = props;\n  return getRenderedTemplate(LINK, props);\n}\n\nexport default Link;\n","import \"./styles.scss\";\nimport getRenderedTemplate from \"../../../utils/getRenderedTemplate\";\n\nconst USER_INFO_ITEM = `<div class=\"user-info-item {{#if className className }}\">\n  <p class=\"user-info-item__name text-base\">{{name}}</p>\n  <p class=\"user-info-item__value text-base\">{{value}}</p>\n</div>`;\n\nfunction UserInfoItem(props) {\n  //   const { className, name, value } = props;\n  return getRenderedTemplate(USER_INFO_ITEM, props);\n}\n\nexport default UserInfoItem;\n"],"names":["$hhiNn","parcelRequire","$a5189b3218da0297$export$2e2bcd8739ae039","Button","$3OeFJ","default","Input","$eM38M","ErrorPage","Form","$hKEzQ","Link","$9kxHp","InWork","$hJAqx","UserInfoItem","$2PH4s","UserData","$93xBX","Avatar","$fDn1W","$c9429a912532bc5d$export$2e2bcd8739ae039","props","$7Aw0B","$bcDf6","$5864b97642d57448$export$2e2bcd8739ae039","template","compile","$hVnGE","$827f416f524624eb$export$2e2bcd8739ae039","TEMPLATE_REGEXP","constructor","this","_template","context","_compileTemplate","regExp","arrKeys","match","i","length","templateValueWithPattern","templateValue","slice","trim","split","data","replace","RegExp","$8DThZ","$d0ca224308ab5c9b$export$2e2bcd8739ae039","_","propsKey","component","contexts","map","item","$eaNLO","join","$d0ca224308ab5c9b$var$_map","ifTrue","ifFalse","$64acda80dc32f973$export$2e2bcd8739ae039","obj","path","defaultValue","keys","result","key","undefined","$cec635509cc3a854$export$2e2bcd8739ae039","$ce92e54deba800e6$export$2e2bcd8739ae039","$697e77611c8bafb4$export$2e2bcd8739ae039","$b61c5cdd3de39dd4$export$2e2bcd8739ae039","$2c616c2eaea7343e$export$2e2bcd8739ae039","$ac17fc0f3c07298d$export$2e2bcd8739ae039","$6cb01f4309a737e7$export$2e2bcd8739ae039","$2101c128a5b9d914$export$2e2bcd8739ae039"],"version":3,"file":"index.a23904ca.js.map"}